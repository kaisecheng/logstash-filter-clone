:plugin: clone
:type: filter

///////////////////////////////////////////
START - GENERATED VARIABLES, DO NOT EDIT!
///////////////////////////////////////////
:version: %VERSION%
:release_date: %RELEASE_DATE%
:changelog_url: %CHANGELOG_URL%
:include_path: ../../../../logstash/docs/include
///////////////////////////////////////////
END - GENERATED VARIABLES, DO NOT EDIT!
///////////////////////////////////////////

[id="plugins-{type}s-{plugin}"]

=== Clone filter plugin

include::{include_path}/plugin_header.asciidoc[]

==== Description

The clone filter is for duplicating events.
A clone will be created for each type in the clone list.
The original event is left unchanged.
Created events are inserted into the pipeline 
as normal events and will be processed by the remaining pipeline configuration 
starting from the filter that generated them (i.e. this plugin).

[id="plugins-{type}s-{plugin}-options"]
==== Clone Filter Configuration Options

This plugin supports the following configuration options plus the <<plugins-{type}s-{plugin}-common-options>> described later.

[cols="<,<,<",options="header",]
|=======================================================================
|Setting |Input type|Required
| <<plugins-{type}s-{plugin}-ecs_compatibility>> | <<string,string>>|No
| <<plugins-{type}s-{plugin}-clones>> |<<array,array>>|Yes
|=======================================================================

Also see <<plugins-{type}s-{plugin}-common-options>> for a list of options supported by all
filter plugins.

&nbsp;

[id="plugins-{type}s-{plugin}-ecs_compatibility"]
===== `ecs_compatibility`

* Value type is <<string,string>>
* Supported values are:
** `disabled`: unstructured geo data added at root level
** `v1`: uses fields that are compatible with Elastic Common Schema (for example, `[client][geo][country_name]`)
* Default value depends on which version of Logstash is running:
** When Logstash provides a `pipeline.ecs_compatibility` setting, its value is used as the default
** Otherwise, the default value is `disabled`.

Controls this plugin's compatibility with the {ecs-ref}[Elastic Common Schema (ECS)].
The value of this setting affects the _default_ value of <<plugins-{type}s-{plugin}-syslog_pri_field_name>>.

[id="plugins-{type}s-{plugin}-clones"]
===== `clones` 

  * This is a required setting.
  * Value type is <<array,array>>
  * There is no default value for this setting.
  * ECS Compatibility disabled: a new clone will be created with the given type in this list.
  * ECS Compatibility enabled: a new clone will be created with a `tag` of the given type in this list.

Note: setting an empty array will not create any clones. A warning message is logged.


[id="plugins-{type}s-{plugin}-common-options"]
include::{include_path}/{type}.asciidoc[]
